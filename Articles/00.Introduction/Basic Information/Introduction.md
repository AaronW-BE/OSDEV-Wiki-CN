# 欢迎

欢迎来到操作系统开发——这片广阔的前沿领域。并非所有人都能在这个领域“成功”，许多人甚至无法迈过操作系统开发的“Hello World”阶段。但或许你能走得更远，创造下一个 Linux？或者 Windows？还是你的目标更小——像 MenuetOS？甚至 CP/M？

无论你的目标是什么，操作系统开发（OSDev）都是编程领域的巅峰之一。但你并不孤单。事实上，这整个网站，包括论坛和 Wiki，都致力于 OSDev。这不仅仅是关于卓越的编程技巧，更是关于社区和建立友谊的旅程。不论是论坛上的朋友，还是 IRQ（中断请求）和进程之间的“友谊”。

你需要什么才能在 OSDev 领域取得成功？你应该先阅读入门指南文章。如果你计划使用 C/C++ 作为首选语言，那么你需要先构建一个GCC 交叉编译器。如果你更倾向于使用其他语言，则需要找到类似的工具（如编译器），如果没有合适的工具，可能只能依靠你自己的努力。但使用自己喜欢的语言可以在开发过程中增加动力和乐趣。

祝你好运！

# 什么是操作系统？

操作系统是一种软件，用于控制计算机系统的运行及其资源管理。所有操作系统都有一个非常重要的共同标准：

> 能够加载和执行用户程序，并为其提供标准化（硬件无关）的输入/输出接口。

操作系统的主要功能可能包括：

* 管理内存和其他系统资源。
* 施加安全性和访问控制策略。
* 调度和多路复用进程与线程。
* 动态加载和关闭用户程序。
* 提供基本的用户界面和应用程序编程接口（API）。
* 并非所有操作系统都提供上述所有功能。例如，单任务操作系统（如 MS-DOS）不会调度进程，而嵌入式系统（如 eCOS）可能没有用户界面，甚至只能运行一组静态用户程序。

操作系统**不是**：

* 计算机硬件。
* 特定的应用程序（如文字处理软件、网页浏览器或游戏）。
* 一组工具（如 GNU 工具集，尽管许多 Unix 系统依赖它们）。
* 开发环境（尽管某些操作系统，如 UCSD Pascal 或 Smalltalk-80，内置了解释器和 IDE）。
* 图形用户界面（GUI）（尽管许多现代操作系统包含 GUI）。

虽然大多数操作系统都会附带这些工具，但它们本身并不是操作系统的必要组成部分。例如，Linux 可能会以不同的“发行版”提供，每个发行版可能包含不同的软件和工具，但它们本质上仍是相同的操作系统，而不是不同类型的操作系统。

# 什么是内核？
操作系统的内核（Kernel）是用户永远无法直接看到的部分，它负责使所有其他程序能够执行。内核处理由硬件（称为中断）和软件（称为系统调用）生成的事件，并管理对计算机资源的访问。

中断处理程序（Interrupt Handlers）： 例如，获取用户按下的键，并将其转换为字符存入缓冲区，以便其他程序读取。

系统调用（System Calls）： 由用户级程序发起，例如打开文件、启动其他程序等。系统调用处理程序会验证传递的参数是否有效，并执行内部操作以完成请求。

大多数用户程序不会直接调用系统调用（除了某些汇编程序），而是通过标准库来完成。例如，C 语言的 fopen() 函数最终会调用一个内核函数来实际打开文件。

内核通常定义一些抽象概念，如文件、进程、套接字、目录等，以维护程序之间的会话状态，提高操作效率。

# 什么是 Shell？

**Shell（命令行解释器）** 是一种特殊的程序，通常集成在操作系统的发行版中，为用户提供与计算机交互的接口。不同的系统可能提供不同的交互方式（如命令行、文件管理器等），但核心概念相同：

* 允许用户选择启动某个程序，并可选地传递参数。
* 允许对本地存储执行简单操作，如列出目录内容、移动和复制文件。

在执行这些操作时，Shell 可能需要执行多个系统调用，例如：

打开文件 x，打开或创建文件 y。读取 x 的内容，并写入 y。关闭两个文件，并在标准输出中显示“完成”。

Shell 还可以用于自动补全文件路径、匹配文件模式（如 *.mp3）、定位程序的准确路径等。此外，现代 Shell 还支持：

* **自动补全（Auto-Completion）**： 按 TAB 键可以补全命令、文件或目录名。
* **字符插入（Character Insertion）**： 允许用户使用方向键在输入的命令中移动光标，并在中间插入字符。
* **历史记录（Shell History）**： 使用 ↑ 和 ↓ 方向键可以浏览之前输入的命令。
* **滚动（Scrolling）**： 允许在终端输出超过屏幕时向上或向下滚动查看内容。
* **脚本（Scripting）**： 支持自定义脚本语言，如 Bash 或 DOS 批处理脚本。
* 其他

# 什么是 GUI？
**图形用户界面（GUI）** 是操作系统中最直观的部分。它不仅仅是一个绘图工具，还负责：

* 捕获用户输入事件（键盘、鼠标等）并分派到适当的对象。
* 维护屏幕上需要显示的内容，并计算哪些区域需要重新绘制。
* 更新屏幕内容，确保显示及时、流畅、直观。

GUI 相关的组件包括：

桌面环境（Desktop Environment）： 例如 KDE、Windows 桌面环境，提供整体的用户体验。
窗口管理器（Window Manager）： 负责管理窗口的位置、大小、边框、滚动条等。
控件库（Widget Library）： 负责绘制 UI 控件，如按钮、文本框、菜单等（例如 Qt、GTK+）。

# 为什么要开发操作系统？

人们开发操作系统的原因各不相同，但一些常见的动机包括：

* 完全控制计算机： 应用程序开发通常依赖现有的操作系统和库，而开发自己的操作系统意味着计算机只运行你的代码。
* 研究： 许多操作系统项目起源于学术研究。虽然短期作业不适合操作系统开发，但长期研究项目是可行的。
* 替代现有系统： 现有系统可能缺少某些功能，或者过于臃肿（如 Linux）、不够稳定（如 Windows）。
* 乐趣： 低级编程虽然复杂，但也充满挑战和乐趣。
不过，很多人因为错误的理由开始 OS 开发，导致项目失败。请参考新手常见错误文章以避免这些问题。

相关资源：

* 必备知识
* 新手常见错误
