# 必备知识（Required Knowledge）

**初学者在操作系统开发（OSDev）中强烈建议不要跳过以下内容**

编写操作系统（OS）并非初学者能够轻松完成的任务。事实上，编写操作系统通常被认为是最困难的编程任务之一。在考虑这样的项目之前，你需要具备高于平均水平的编程能力。如果忽视这一点，你可能会显得很愚蠢。

开发操作系统需要掌握以下知识：

1. **基础计算机科学**
需要对十六进制和二进制表示法、布尔逻辑及其他类似的基本知识有深入的了解，例如数据结构、它们的构造和操作、搜索和排序算法、抽象编程概念等。

2. **语言与术语**
需要具备熟练的技术英语阅读和写作能力。几乎所有的技术文档都是用英语编写的，你在网上找到的大多数资源（如本Wiki和论坛）也是如此。如果使用错误的术语，你不仅会让自己显得很愚蠢，还会让愿意帮助你的人感到困惑。

3. **语言与术语（续）**
本网站介绍的大多数操作系统，以及大多数代码片段和示例，都是用C（或C++）编写的。即使你选择使用其他语言（如FreeBASIC或Pascal），你仍然需要具备理解C语言的能力，因为C是编程的通用语言。

4. **汇编语言**
你需要了解底层的汇编语言。阅读一本书、在学校参加一门课程，或者编写一些用户态代码来熟悉它。即使你打算主要使用高级语言编写操作系统，汇编语言的知识仍然是必不可少的。

5. **编程经验**
将操作系统开发作为学习编程的入门项目是一个糟糕的主意。你不仅需要完全掌握你所使用的编程语言，还需要熟悉版本控制、调试等内容。换句话说，在尝试操作系统开发之前，你应该已经成功编写过相当多的用户态程序。

6. **编程实践**
你应该了解如何编写代码以及用户文档，并准备好对代码和设计的各个方面进行详细记录，即使该项目只是用于个人用途。此外，你应该学习并使用适当的代码管理实践，包括设置和使用远程代码仓库（如Savannah、GitHub、GitLab、Heroku）。如果你遵循这些实践，它们 一定会（不是可能）在未来为你节省大量的麻烦。

7. **UNIX 经验**
你会很快注意到，许多用于操作系统开发的工具最初是在Unix上开发的，后来才被移植到Windows上。Linux内核通常被用作参考或示例，而许多业余操作系统在某种程度上都类似于Unix。因此，熟悉Unix命令行（最好是Bash或ksh）是一个重要的前提。（Cygwin 提供了一个易于安装的Windows Unix命令行环境。）
如果你没有Unix经验，可以尝试使用Linux或BSD一段时间。对于Windows用户，这可以通过使用虚拟机（详见下文）来运行虚拟系统，而不需要重新分区你的计算机。你还可以在Windows中安装 Windows Subsystem for Linux（WSL） 来访问Unix命令行。对于macOS用户，你可以直接使用 终端（Terminal） —— macOS 本身就是基于Unix的（结合了Mach和BSD内核），所以只要安装了 Xcode 和一个模拟器或虚拟机，就不需要额外的工具（不过你仍然需要设置一个交叉编译器）。macOS 默认的终端 shell 是 Z Shell，但 C Shell 和 KornShell 也是可用的。

8. **工具链（Toolchain）**
你必须了解你的编译器、汇编器、链接器和构建工具的行为细节，并且理解它们产生的警告和错误信息。你应该随时查阅你所使用工具的官方文档，并在向社区求助之前先自行查找相关资料。可以肯定的是，关于 GCC、GNU as、NASM、GNU ld、Visual Studio 和 GRUB 的所有初学者问题，社区已经解答过无数次。在提问之前先搜索答案。

9. **仿真器和虚拟机**
熟悉 Bochs、VirtualBox、QEMU 或 Virtual PC 等工具，对于高效的开发过程至关重要。这些工具可以在你的真实硬件和测试系统之间提供一个缓冲区。虽然这些工具可以在操作系统开发过程中学习使用，但你在开始开发之前，最好先了解它们的用途及获取方式。

10. **可执行文件格式**
内核空间编程相比用户态编程有许多额外的要求，其中之一就是解析可执行二进制文件的能力（毕竟，你希望你的操作系统能够加载和执行应用程序，对吧？）。你需要熟悉 可执行文件类型，了解它们的内部结构，以及链接器如何生成它们。

11. **目标平台（硬件架构）**
你应该认真研究你所使用处理器的官方手册。这些文档包含了设计内核所需的关键信息。询问一些可以在官方文档中轻松找到的信息，只会让你收到 “请阅读手册（RTFM）” 这样的回复。

12. **操作系统的概念**
你应该对现有操作系统的技术原理有所了解（例如，通过阅读相关书籍），明白它们的优缺点，并确定你希望如何构建自己的操作系统。完成某个教程后就在论坛上问“接下来该做什么？”会让你显得很不成熟。

相关资料

一本极其优秀（但不幸的是尚未完成）的书籍：
📖 《Operating Systems From 0 to 1》
这本书涵盖了你需要了解的一切内容，从晶体管到逻辑电路，再到汇编语言、C语言、ELF文件格式、调试等。如果你认真阅读并理解了这本书，你将能快速掌握操作系统开发的必要知识。
